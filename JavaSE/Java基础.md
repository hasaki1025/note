# Java基础

- java源文件
  - 可包含多个类，但public类只有一个且源文件名称为：（public修饰的类名）.java

- 编译命令

  ```java
  javac -Helloworld.java
  ```

- 运行命令

  ```java
  java -Helloworld
  ```

- java基础知识

  - java是大小写敏感的
  - 
  
- 关于java标识符
  
  
  - 所有的标识符都应该以字母（A-Z 或者 a-z）,美元符（$）、或者下划线（_）开始
  - 首字符之后可以是字母（A-Z 或者 a-z）,美元符（$）、下划线（_）或数字的任何字符组合
  - 关键字不能用作标识符
  - 标识符是大小写敏感的
  - 合法标识符举例：age、$salary、_value、__1_value
  - 非法标识符举例：123abc、-salary

- Java 源程序与编译型运行区别
  - ![ZSSDMld](C:\Users\房间内红茶香气依旧\Desktop\ZSSDMld.png)

- java基本类型

  - **byte：**

    - byte 数据类型是8位、有符号的，以二进制补码表示的整数；
    - 最小值是 **-128（-2^7）**；
    - 最大值是 **127（2^7-1）**；
    - 默认值是 **0**；
    - byte 类型用在大型数组中节约空间，主要代替整数，因为 byte 变量占用的空间只有 int 类型的四分之一；
    - 例子：byte a = 100，byte b = -50。

  - **short：**

    - short 数据类型是 16 位、有符号的以二进制补码表示的整数
    - 最小值是 **-32768（-2^15）**；
    - 最大值是 **32767（2^15 - 1）**；
    - Short 数据类型也可以像 byte 那样节省空间。一个short变量是int型变量所占空间的二分之一；
    - 默认值是 **0**；
    - 例子：short s = 1000，short r = -20000。

  - **int：**

    - int 数据类型是32位、有符号的以二进制补码表示的整数；

    - 最小值是 **-2,147,483,648（-2^31）**；

    - 最大值是 **2,147,483,647（2^31 - 1）**；

    - 一般地整型变量默认为 int 类型；

    - 默认值是 **0** ；

    - 例子：int a = 100000, int b = -200000。

      **long：**

  - long 数据类型是 64 位、有符号的以二进制补码表示的整数；

    - 最小值是 **-9,223,372,036,854,775,808（-2^63）**；

    - 最大值是 **9,223,372,036,854,775,807（2^63 -1）**；

    - 这种类型主要使用在需要比较大整数的系统上；

    - 默认值是 **0L**；

    - 例子： long a = 100000L，Long b = -200000L。
      "L"理论上不分大小写，但是若写成"l"容易与数字"1"混淆，不容易分辩。所以最好大写。

  - **float：**

    - float 数据类型是单精度、32位、符合IEEE 754标准的浮点数；
    - float 在储存大型浮点数组的时候可节省内存空间；
    - 默认值是 **0.0f**；
    - 浮点数不能用来表示精确的值，如货币；
    - 例子：float f1 = 234.5f。

  - **double：**

    - double 数据类型是双精度、64 位、符合 IEEE 754 标准的浮点数；

    - 浮点数的默认类型为 double 类型；

    - double类型同样不能表示精确的值，如货币；

    - 默认值是 **0.0d**；

    - 例子：

      ```
      double   d1  = 7D ;
      double   d2  = 7.; 
      double   d3  =  8.0; 
      double   d4  =  8.D; 
      double   d5  =  12.9867; 
      ```

      7 是一个 int 字面量，而 7D，7. 和 8.0 是 double 字面量。

  - **boolean：**

    - boolean数据类型表示一位的信息；
    - 只有两个取值：true 和 false；
    - 这种类型只作为一种标志来记录 true/false 情况；
    - 默认值是 **false**；
    - 例子：boolean one = true。

  - **char：**

    - char 类型是一个单一的 **16** 位 Unicode 字符；
    - 最小值是 **\u0000**（十进制等效值为 0）；
    - 最大值是 **\uffff**（即为 65535）；
    - char 数据类型可以储存任何字符；
    - 例子：char letter = 'A';。

- java常量和变量和转义

  - final关键字修饰

  - byte、int、long、和short都可以用十进制、16进制以及8进制的方式来表示。

    当使用字面量的时候，前缀 **0** 表示 8 进制，而前缀 **0x** 代表 16 进制

  - '\'为转义字符

- java类型转换

  - 1. 不能对boolean类型进行类型转换。

  - 3. 在把容量大的类型转换为容量小的类型时必须使用强制类型转换。

  - 4. 转换过程中可能导致溢出或损失精度，例如：

    ```
    int i =128;   
    byte b = (byte)i;
    ```

    因为 byte 类型是 8 位，最大值为127，所以当 int 强制转换为 byte 类型时，值 128 时候就会导致溢出。

  - 5. 浮点数到整数的转换是通过舍弃小数得到，而不是四舍五入，例如：

    ```
    (int)23.7 == 23;        
    (int)-45.89f == -45
    ```

  - 小数默认是 double 类型浮点型，在定义 float 类型时必须在数字后面跟上 F 或者 f。

- java变量类型

  - 局部变量
    - 局部变量声明在方法、构造方法或者语句块中；
    - 局部变量在方法、构造方法、或者语句块被执行的时候创建，当它们执行完成后，变量将会被销毁；
    - 局部变量是在栈上分配的。
    - 局部变量没有默认值，所以局部变量被声明后，必须经过初始化，才可以使用。
  - 实例变量
    - 实例变量声明在一个类中，但在方法、构造方法和语句块之外；
    - 当一个对象被实例化之后，每个实例变量的值就跟着确定；
    - 实例变量在对象创建的时候创建，在对象被销毁的时候销毁；
    - 访问修饰符可以修饰实例变量；
    - 实例变量对于类中的方法、构造方法或者语句块是可见的。一般情况下应该把实例变量设为私有。通过使用访问修饰符可以使实例变量对子类可见；
    - 实例变量具有默认值。数值型变量的默认值是0，布尔型变量的默认值是false，引用类型变量的默认值是null。**变量的值可以在声明时指定，也可以在构造方法中指定**；
    - 实例变量可以直接通过变量名访问。但在静态方法以及其他类中，就应该使用完全限定名：ObejectReference.VariableName。
  - 类变量（静态变量）
    - 类变量也称为静态变量，在类中以 static 关键字声明，但必须在方法之外。
    - 无论一个类创建了多少个对象，**类只拥有类变量的一份拷贝。**(无论在哪改变类变量的值都会使其改变)
    - 静态变量除了被声明为常量外很少使用，静态变量是指声明为 public/private，final 和 static 类型的变量。静态变量初始化后不可改变。
    - 静态变量储存在静态存储区。经常被声明为常量，很少单独使用 static 声明变量。
    - 静态变量在第一次被访问时创建，在程序结束时销毁。
    - 与实例变量具有相似的可见性。但为了对类的使用者可见，大多数静态变量声明为 public 类型。
    - 默认值和实例变量相似。数值型变量默认值是 0，布尔型默认值是 false，引用类型默认值是 null。变量的值可以在声明的时候指定，也可以在构造方法中指定。此外，静态变量还可以在静态语句块中初始化。
    - 静态变量可以通过：*ClassName.VariableName*的方式访问。
    - 类变量被声明为 public static final 类型时，类变量名称一般建议使用大写字母。如果静态变量不是 public 和 final 类型，其命名方式与实例变量以及局部变量的命名方式一致。

- java访问控制修饰符

  - **default** (即默认，什么也不写）: 在**同一包内可见**，不使用任何修饰符。使用对象：类、接口、变量、方法。

    - 接口里的变量都隐式声明为 **public static final**,而接口里的方法默认情况下访问权限为 **public**

  - **private** :**在同一类内可见**。使用对象：变量、方法。 **注意：不能修饰类（外部类）**

  - **public** : 对所有类可见。使用对象：类、接口、变量、方法

    - Java 程序的 main() 方法必须设置成公有的，否则，Java 解释器将不能运行该类。

  - **protected** :**对同一包内的类和所有子类可见。使用对象：变量、方法。 注意：不能修饰类（外部类）**。

    - protected 需要从以下两个点来分析说明：
      - **子类与基类在同一包中**：被声明为 protected 的变量、方法和构造器能被同一个包中的任何其他类访问；
      - **子类与基类不在同一包中**：那么在子类中，子类实例可以**访问其从基类继承而来的 protected 方法**，而**不能访问基类实例的protected方法。**

  - | 修饰符      | 当前类 | 同一包内 | 子孙类(同一包) | 子孙类(不同包)                                               | 其他包 |
    | :---------- | :----- | :------- | :------------- | :----------------------------------------------------------- | :----- |
    | `public`    | Y      | Y        | Y              | Y                                                            | Y      |
    | `protected` | Y      | Y        | Y              | Y/N（[说明](https://www.runoob.com/java/java-modifier-types.html#protected-desc)） | N      |
    | `default`   | Y      | Y        | Y              | N                                                            | N      |
    | `private`   | Y      | N        | N              | N                                                            | N      |

- static修饰符

  - **静态变量：**

    static 关键字用来声明独立于对象的静态变量，无论一个类实例化多少对象，它的静态变量只有一份拷贝。 静态变量也被称为类变量。局部变量不能被声明为 static 变量。

  - **静态方法：**

    static 关键字用来声明独立于对象的静态方法。静态方法不能使用类的非静态变量。静态方法从参数列表得到数据，然后计算这些数据。

- final关键字

  - final变量初始化后无法修改
  - final方法可以被继承但无法被重写
  - final类无法被继承

- abstract修饰符

  - 抽象方法没有方法体，具体实现由子类提供
  - 如果一个类中有抽象方法必须设置为抽象类
  - 抽象类可以没有抽象方法

- volatile 修饰符

  volatile 修饰的成员变量在每次被线程访问时，都强制从共享内存中重新读取该成员变量的值。而且，当成员变量发生变化时，会强制线程将变化值回写到共享内存。这样在任何时刻，两个不同的线程总是看到某个成员变量的同一个值。

  一个 volatile 对象引用可能是 null。

